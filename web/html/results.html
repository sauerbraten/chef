<!doctype html>

<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="utf-8">

	<title>{{.Query}} – CHEF</title>

	<link href="/style.css" rel="stylesheet">
</head>

<body>

	<header>
		<h1 class="align-center">
			<a href="/">CHEF</a>
		</h1>
	</header>

	<main>
		<header>
			<h2>Results for {{.Query}}</h2>
			<small>interpreted as {{if .InterpretedAsName}}name{{else}}IP (range){{end}} | performed {{if .PerformedDirectLookup}}direct lookup{{else}}2-step lookup{{end}} | sorted by {{if .SortedByNameFrequency}}name frequency{{else}}last seen{{end}}</small>
		</header>

		{{if len .Results}}
		<table>
			<thead>
				<tr>
					<td class="align-center">Player IP</td>
					<td class="align-center">Player Name</td>
					<td class="align-center">Last Seen</td>
					<td class="align-center">Server IP</td>
					<td class="align-center">Port</td>
					<td>Server Description</td>
				</tr>
			</thead>
			<tbody>
				{{range .Results}}
				<tr>
					<td class="align-right{{if ipIsInKidbannedNetwork .IP}} orange{{end}}">{{.IP}}</td>
					<td>{{.Name}}</td>
					<td class="align-center">{{timestring .Timestamp}}</td>
					<td class="align-right">{{.ServerIP}}</td>
					<td class="align-right">{{.ServerPort}}</td>
					<td>{{.ServerDescription}}</td>
				</tr>
				{{end}}
			</tbody>
		</table>

		<p>
			IPs that lie in a range which is most likely not used for private DSL connections (but for things like businesses, VPNs, server hosting, proxies, etc.) are colored orange-red.
		</p>
		{{else}}
		<p>
			Nothing found!
		</p>
		{{end}}
	</main>

	<footer>
		<small>
			Sauerbraten spy by pix – <a href="/status">Status</a> – <a href="/info">More Information</a>
		</small>
	</footer>

</body>
</html>